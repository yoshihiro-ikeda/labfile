function deleteblk(sys)

load_system(sys);
blk_list = find_system(sys,'Type','Block');
blk_num = size(blk_list);

line_list = find_system(sys,'FindAll','On','type','line');
line_num = size(line_list);
% 
% for i = 1:blk_num(1)
%     tmp_blk = blk_list(i);
%     if strcmp(get_param(tmp_blk,'BackgroundColor'), '[1.000000, 1.000000,
%     0.000000]')
%         tmp_handle = get_param(tmp_blk,'LineHandles');
%         disp(tmp_handle);
%         %tmp_in = getfield(tmp_handle,'Inport');
%         tmp_in = tmp_handle.Inport();
%         delete_line(tmp_in);
%         delete_block(tmp_blk);
%     end
% end

% cmpFlag = 0;
% 
% for i = 1:blk_num(1)
%     tmp_blk = blk_list(i);
%     if strcmp(get_param(tmp_blk,'BackgroundColor'), '[1.000000, 1.000000, 0.000000]')
%         blkH_tmp = get_param(tmp_blk,'Handle');
%         tmp2 = sprintf('%f',cell2mat(blkH_tmp));
%         disp(tmp_blk);
%         disp(tmp2);
%         disp(tmp_blk);
%         disp(line_num(1));
%         for j = 1:line_num(1)
%             disp('okok');
%             disp(line_list(j));
%             blkH_line_out = get_param(line_list(j),'DstBlockHandle');
%             dstsize = size(blkH_line_out);
%             for k = 1:dstsize(1)
%                 tmp1 = sprintf('%f',blkH_line_out(k));
%                 disp(tmp1);
%                 if tmp1 == tmp2
%                     disp('ok');
%                     %disp(line_list(j));
%                     delete_line(line_list(j));
%                     line_list(j) = [];
%                     line_num(1) = line_num(1) - 1;
%                     disp(line_list);
%                     disp(line_num(1));
%                     cmpFlag = 1;
%                     break
%                 end
%             end
%             if cmpFlag == 1
%                 cmpFlag = 0;
%                 break
%             end
%         end
%         disp('okokok');
%         %delete_block(tmp_blk);
%     end
% end
% 
% %save_system(sys);

%重複する信号線を排除
delete_line_list = line_list;
count = 0;
for i = 1:line_num(1)
    blkH_line_out = get_param(line_list(i),'DstBlockHandle');
    dstsize = size(blkH_line_out);
    if dstsize(1) ~= 1
        delete_line_list(i - count) = [];
        count = count + 1;
    end
end

disp(delete_line_list)

line_list = delete_line_list;
line_num = size(line_list);

count = 1;
delete_line_list = [];

%行き先が黄色のブロックの信号線を排除
for i = 1:line_num(1)
    disp(i);
    blkH_line_out = get_param(line_list(i),'DstBlockHandle');
    dstsize = size(blkH_line_out);
    for j = 1:dstsize(1)
        if strcmp(get_param(blkH_line_out(j),'BackgroundColor'), '[1.000000, 1.000000, 0.000000]')
            %delete_line(line_list(i));
            delete_line_list(count) = line_list(i);
            count = count + 1;
        end
    end
end

disp (delete_line_list);
delete_num = size(delete_line_list);
disp(delete_num);
for i = 1:delete_num(2)
    delete_line(delete_line_list(i));
end

%黄色のぶろく
for i = 1:blk_num(1)
    tmp_blk = blk_list(i);
    if strcmp(get_param(tmp_blk,'BackgroundColor'), '[1.000000, 1.000000,0.000000]')
        delete_block(tmp_blk);
    end
end
